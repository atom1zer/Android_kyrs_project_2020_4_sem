package com.example.kyrsovaya_client_v2.adapters;

import android.content.Context;
import android.content.Intent;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.CheckBox;
import android.widget.EditText;
import android.widget.TextView;
import android.widget.Toast;

import androidx.annotation.NonNull;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;

import com.example.kyrsovaya_client_v2.R;
import com.example.kyrsovaya_client_v2.activitys.AddQuizActivity;
import com.example.kyrsovaya_client_v2.activitys.MainActivity;
import com.example.kyrsovaya_client_v2.activitys.PersonalQuizActivity;
import com.example.kyrsovaya_client_v2.activitys.RegisterActivity;
import com.example.kyrsovaya_client_v2.api.RetrofitClient;
import com.example.kyrsovaya_client_v2.helper.SharedPrefManager;
import com.example.kyrsovaya_client_v2.models.AnswersResponse;
import com.example.kyrsovaya_client_v2.ui.gallery.GalleryFragment;

import java.lang.reflect.Array;
import java.util.ArrayList;

import retrofit2.Call;
import retrofit2.Callback;
import retrofit2.Response;

public class CreateQuizAdapter extends RecyclerView.Adapter<CreateQuizAdapter.CreateQuizViewHolder>{

    ArrayList<String> list;


    public CreateQuizAdapter (ArrayList<String> list){
        this.list = list;

    }

    public class CreateQuizViewHolder extends RecyclerView.ViewHolder{

        TextView quiz_frag, correct;
        Button delit;




        public CreateQuizViewHolder(@NonNull View itemView) {
            super(itemView);
            quiz_frag = itemView.findViewById(R.id.quiz_fragm);
            delit = itemView.findViewById(R.id.delit);
        }
    }

    @NonNull
    @Override
    public CreateQuizViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
        Context context = parent.getContext();
        LayoutInflater inflater = LayoutInflater.from(context);
        View quizView = inflater.inflate(R.layout.quiz_fragment, parent, false);
        CreateQuizViewHolder viewHolder = new CreateQuizViewHolder(quizView);
        return viewHolder;

    }

    @Override
    public void onBindViewHolder(@NonNull CreateQuizViewHolder holder, int position) {
        String currentQuiz = list.get(position);
        holder.quiz_frag.setText(currentQuiz);
        holder.quiz_frag.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                Context context = v.getContext();
                holder.quiz_frag.getText();
                Toast.makeText(context, holder.quiz_frag.getText(), Toast.LENGTH_SHORT).show();
            }
        });

        holder.delit.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                String currentQuiz = list.get(position);
                Context context = v.getContext();
                list.remove(currentQuiz);
                notifyItemRemoved(position);
                notifyItemRangeChanged(position, list.size());
                Toast.makeText(context, "Удалено", Toast.LENGTH_SHORT).show();
                //Log.d("!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!", "!!!!!!!!!!!!!!!!!!!!!!!!!!!" + list.get(position));
            }

        });

        //final Context context = holder.recyclerView.getContext();

        /*final int[] m = {0};
        holder.quiz_frag.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                m[0]++;

               /* for(int i =0; i<list.size();i++){



                }*/
               /*if (m[0]%2 == 0){
                    TextView correct;
                correct = v.findViewById(R.id.quiz_fragm);
                correct.setBackgroundResource(R.drawable.header_grad_1);

                }
                else{
                    TextView correct;
                correct = v.findViewById(R.id.quiz_fragm);
                correct.setBackgroundColor(0);
                //notifyItemRangeChanged(position, list.size()-1);
                correct.setBackgroundResource(R.drawable.header_grad);



               // Log.d("Привет","Пока" + list.get(position));

               }

 /*TextView correct;
                correct = v.findViewById(R.id.quiz_fragm);
                correct.setBackgroundResource(R.drawable.header_grad);*/


                //Toast.makeText(, "Нажимаю на ресайкл!!!!", Toast.LENGTH_SHORT).show();
                //Navigation.findNavController(view).navigate(R.id.personalQuizFragment);

                /*if(context instanceof PersonalQuizActivity){
                    ((PersonalQuizActivity)context).startActivity();
                }*/
                /*Intent intent = new Intent(context, PersonalQuizActivity.class);
                        context.startActivity(intent);*/

                /*Context context = view.getContext();
                Intent inten = new Intent(context, PersonalQuizActivity.class);
                inten.putExtra("ID", quizz.getQuiz_id().toString());
                context.startActivity(inten);*/

                //Integer SIZE = position + 1;
                //Toast.makeText(context,"" +  SIZE  , Toast.LENGTH_SHORT).show();
                //Method(position + 1);




            //}

        //});

    }


    @Override
    public int getItemCount() {
        return list.size();
    }


}


































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































